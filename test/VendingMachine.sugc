#import "model/Statemachine"

statemachine {
	initial state Init 

  	events InsertCoin, Abort, PinOK, PinNOK, MoneyTaken, CardTaken, CardRevoked
  	
  	action init {
  		int i = 0;
  	}

  	state Init {
    	InsertCoin => Withdraw
    	Abort => Init
  	} 
  	state Withdraw { 
    	PinOK => GiveMoney
    	PinNOK => RevokeCard
    	Cancel => Init
  	}
  	state GiveMoney {
    	MoneyTaken => ReturnCard
  	}
  	state ReturnCard {
    	CardTaken => Init
  	}
  	state RevokeCard {
    	CardRevoked => Init
  	}
}